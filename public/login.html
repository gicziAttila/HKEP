<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <title>Bejelentkezés</title>
    <style>
        body {
            background-color: seashell;
        }
    </style>
</head>
<body>
    <div class="container-fluid d-flex justify-content-center align-items-center flex-column kontener" style="display: block;">
        <form class="d-flex align-items-center w-50 text-center flex-column p-5 mt-4 glass" id="login_form">
            <p class="mb-4 fs-1">Személyes Könyvtár Kezelő Portál</p>
            <p class="mb-3 fs-2"><strong>Bejelentkezés</strong></p>
            <div class="mb-3">
                <input type="email" class="form-control" placeholder="Email cím" id="email_input" required>
            </div>
            <div class="mb-3">
                <input type="password" class="form-control" placeholder="Jelszó" id="password_input" required>
            </div>
                <button type="submit" class="btn btn-secondary">Bejelentkezés</button>
            <div class="line mt-4"></div>
            <div class="mt-3">
                <a class="text-light linkStyle" href="signup.html">Ha még nem rendelkezel fiókkal kattints ide</a>
            </div>
        </form>
    </div>
    <script type="module" defer>
        // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
      //Firebase config beillesztése
      const firebaseConfig = {
        apiKey: "AIzaSyC30jfb2mbvBaUQTdXSY29KZbWbgJIaiLY",
        authDomain: "hkep-941ee.firebaseapp.com",
        projectId: "hkep-941ee",
        storageBucket: "hkep-941ee.appspot.com",
        messagingSenderId: "924015626598",
        appId: "1:924015626598:web:d1c059c3646dbbb94060a7"
       };
      // Firebase inicializálása
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      document.getElementById("login_form").addEventListener("submit", function (event) {
        event.preventDefault();
        var email = document.getElementById("email_input").value;
        var password = document.getElementById("password_input").value;

        // Bejelentkezés
        signInWithEmailAndPassword(auth, email, password)
            .then(function (userCredential) {
            // Bejelentkezés sikeres    
            window.location.href = "index.html";
        })
        .catch(function (error) {
            // Hiba történt
            var errorCode = error.code;
            var errorMessage = error.message;
            console.error("Bejelentkezési hiba:", errorCode, errorMessage);
        });
    }); 
    </script>
</body>
</html>